---
author: Harold3Sigma
date: '2015-03-23 23:18:00'
layout: post
slug: down-to-earth
status: publish
title: CMU teaches me to be down to earth
tags:
- work
---

##选搜索引擎课

来米国上学的第一个学期，我选了一门计算机学院的『搜索引擎』课。这门课的教授是个美国人，大约五六十岁，仙风道骨，一身学术范。他上课节奏很快，信息量很大。我很喜欢这门课。

开学第二周，第一个project放出来了。这个project的内容是用Java语言来实现搜索引擎的一些基本功能。这个project对我来说很难。第一，我从来没有接触过Java编程，看着教授给的一大堆.java文件一头雾水。另外，我上课没有跟上教授的节奏，没有理解上课讲到的概念，看handout如同看天书。

我到处缠着学长问这问那，总算是在deadline之前把作业提交了。我的代码在教授提供的课程网站上测试过，几个测试query都得到了满分。

##搞坏课程测试网站

在写这次作业的过程中，有个小插曲。在deadline之前，我频频用课程网站来测试代码。但是，有一次忘记在本地进行测试就上传，而那份代码里有一个死循环，死循环里有一条sysout语句。更糟糕的是，课程网站的测试程序是教授写的，他并没有做defensive programming，不会终止那些运行时间过长的程序。结果，我的程序在网站上持续运行，在硬盘上产生了133GB的垃圾数据，并最终覆盖掉了硬盘上的某个系统文件，导致系统崩溃。

这次系统崩溃影响了整个班同学的测试。教授，据他的学生说，近几年来第一次在周末去学校，就是为了修复我所导致的bug。 -_-#

##project得到低分

这次project的成绩出来后，我傻眼了。全班平均分88分，中位数89，我只拿到51分。一开始我以为这是教授对我搞坏测试网站的报复。我去找TA，得到的答复是：我的低分并不是因为搞坏了课程网站，而是因为我的代码没有通过hidden test。而实际上，我在本地测试的时候明明是没问题的。我向TA要了一条hidden test，在本机上重新运行代码，结果一点都没问题。

我怀疑测试的环境跟评分的环境不一样。

我拿着在测试系统上得到的结果，和评分系统上得到的结果，去找教授理论。教授的办公室在五楼的角落，光线充足风景秀丽。教授非常非常nice。我简要说明我的来意，以及我用到的排序方法之后，教授很迅速地反应：当Java自带排序算法不稳定的时候，你的算法是错误的。（我用了一个笨拙的排序算法）

这老头真是犀利。

我立刻用自己的笔记本搜索相关问题，在stack overflow上找到一个『what is java's default sorting algorithm』，得到一个答案是『mergesort』。我们都知道，mergesort是一个稳定的排序算法。我得意地给老师看我所搜到的结果。

>这个网页并不具有权威性。它只是一个问答网站上非正式的讨论而已，并非官方文档。

无法反驳。

于是教授到java的官方网站搜索。得到的结果跟我在stack overflow上得到的一致。这时教授也怀疑课程网站上的测试和评分系统不同。他承诺会在测试用的机器上重新运行我的代码，看是否能重现问题。如果没有重现问题的话，说明他们所有的测试/评分系统的环境是一致的，也便无法给我追回分数。我同意了他的建议。

两天之后，教授给全班同学发了一条公告，提到他跟他的学生一起运行了我的代码，找到了测试系统里的一些inconsistency，并承诺重新评分。TA也在课程的讨论网站上发布了公告，承认之前自己对测试系统过于自信。

我的分数从51分变成了85分。虽然没有达到平均水平，但已经很满足了。

我很欣赏美国大学教授这种实事求是的态度。



